@model TouristWebSite.Models.StatisticsViewModel

<h2>Статистика</h2>
<h4>Переглядайте свою статистику.</h4>
<hr />

<dl class="dl-horizontal">
    <dt>Кількість замовлених турів:</dt>
    <dd>@Model.ToursCount</dd>
    <dt>Кількість заданих питань:</dt>
    <dd>@Model.QuestionsCount</dd>
    <dt>Заброньовані раніше тури:</dt>
    <dd>@Html.ActionLink("Переглянути список", "BookedTours")</dd>
</dl>

<div id="piechart" style="width: 100%; height: 350px;"></div>
<br />
<div id="chart_div" style="width: 100%; height: 500px;"></div>

@section Scripts {
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      google.charts.load('current', { 'packages': ['corechart'] });
      google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

        var data = google.visualization.arrayToDataTable([
            ['', 'Кількість заброньованих турів'],

              @foreach(var item in Model.Data)
              {
                @:["@item.Key", @item.Value],
              }
        ]);

        var options = {
            title: 'Замовлені тури за місяцями',
            is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);

            var options1 = {
                title: 'Замовлені тури за місяцями',
                hAxis: {
                    title: '',
                    textStyle: {
                        color: 'white'
                    },
                },
                vAxis: {
                    minValue: 0,
                    textStyle: {
                        color: 'white'
                    },
                },
                colors: ['white'],
            };

            var chart1 = new google.visualization.AreaChart(document.getElementById('chart_div'));
        chart1.draw(data, options1);

        var list = document.getElementsByTagName("rect");

        for (var i = 0; i < list.length; i++) {
            if (i != 0 && i != 4+@Model.Data.Count()) {
                list[i].style.fillOpacity = 0;
            }
        }
    }
    </script>

    @Scripts.Render("~/bundles/jqueryval")
}